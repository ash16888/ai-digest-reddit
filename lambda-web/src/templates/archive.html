<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ö–∏–≤ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ - Reddit AI Digest</title>
    <meta name="description" content="–ê—Ä—Ö–∏–≤ –≤—Å–µ—Ö –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ Reddit AI Digest. –ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –æ–± –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ.">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', path='/favicon.svg') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
</head>
<body>
    <div class="site-wrapper">
        <header class="site-header">
            <div class="header-top">
                <div class="container">
                    <div class="header-controls">
                        <time class="current-date">{{ current_date }}</time>
                        <button class="theme-toggle" onclick="toggleTheme()" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                            <span id="theme-icon">üåô</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="header-main">
                <div class="container">
                    <div class="logo-section">
                        <h1 class="site-title">Reddit AI Digest</h1>
                        <p class="tagline">–ê—Ä—Ö–∏–≤ –≤—Å–µ—Ö –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤</p>
                    </div>
                    <nav class="main-nav">
                        <a href="/" class="nav-item">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="/archive" class="nav-item active">–ê—Ä—Ö–∏–≤</a>
                        <a href="/about" class="nav-item">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
                    </nav>
                </div>
            </div>
        </header>

        <main class="site-main">
            <div class="container">
                <!-- Archive Header -->
                <section class="archive-header">
                    <h2 class="section-title">–ê—Ä—Ö–∏–≤ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤</h2>
                    <p class="archive-description">–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –≤—Å–µ—Ö –≤—ã–ø—É—Å–∫–æ–≤ –¥–∞–π–¥–∂–µ—Å—Ç–∞ —Å {{ oldest_date }} –ø–æ {{ newest_date }}</p>
                    <div class="archive-stats">
                        <div class="stat-item">
                            <div class="stat-number">{{ total_count }}</div>
                            <div class="stat-label">–¥–∞–π–¥–∂–µ—Å—Ç–æ–≤ –≤ –∞—Ä—Ö–∏–≤–µ</div>
                        </div>
                    </div>
                </section>

                <!-- Digest Grid -->
                <section class="digest-section">
                    <div class="digest-grid archive-grid">
                        {% for digest in digests %}
                        <article class="digest-card">
                            <div class="card-date">
                                <span class="day">{{ digest.formatted_date.split()[0] }}</span>
                                <span class="month">{{ digest.formatted_date.split()[1][:3] }}</span>
                            </div>
                            <div class="card-content">
                                <h3 class="card-title">
                                    <a href="/digest/{{ digest.date }}">{{ digest.title }}</a>
                                </h3>
                                <div class="card-meta">
                                    <time>{{ digest.formatted_date }}</time>
                                    {% if digest.stats %}
                                    <span class="meta-separator">‚Ä¢</span>
                                    <span class="post-count">{{ digest.stats.total_posts }} –ø–æ—Å—Ç–æ–≤</span>
                                    {% endif %}
                                </div>
                            </div>
                            <a href="/digest/{{ digest.date }}" class="card-link" aria-label="–ß–∏—Ç–∞—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç –∑–∞ {{ digest.formatted_date }}"></a>
                        </article>
                        {% endfor %}
                    </div>

                    {% if not digests %}
                    <div class="empty-state">
                        <div class="empty-icon">üì∞</div>
                        <h3>–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç</h3>
                        <p>–î–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã</p>
                    </div>
                    {% endif %}
                </section>
            </div>
        </main>

        <footer class="site-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h4>Reddit AI Digest</h4>
                        <p class="footer-description">–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –ª—É—á—à–∏—Ö –ø–æ—Å—Ç–æ–≤ –æ–± –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–±—Ä–µ–¥–¥–∏—Ç–æ–≤.</p>
                    </div>
                    <div class="footer-section">
                        <h4>–°–∞–±—Ä–µ–¥–¥–∏—Ç—ã</h4>
                        <ul class="footer-links">
                            <li><a href="https://reddit.com/r/ChatGPT" target="_blank" rel="noopener">r/ChatGPT</a></li>
                            <li><a href="https://reddit.com/r/OpenAI" target="_blank" rel="noopener">r/OpenAI</a></li>
                            <li><a href="https://reddit.com/r/ClaudeAI" target="_blank" rel="noopener">r/ClaudeAI</a></li>
                            <li><a href="https://reddit.com/r/GeminiAI" target="_blank" rel="noopener">r/GeminiAI</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>–ü—Ä–æ–µ–∫—Ç</h4>
                        <ul class="footer-links">
                            <li><a href="/about">–û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2025 Reddit AI Digest</p>
                    <p class="footer-quote">The future isn't human vs AI, it's humans with AI vs humans without it.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Theme switching functionality
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const currentTheme = body.getAttribute('data-theme');

            if (currentTheme === 'dark') {
                body.removeAttribute('data-theme');
                themeIcon.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme on page load
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.getElementById('theme-icon');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.body.setAttribute('data-theme', 'dark');
                themeIcon.textContent = '‚òÄÔ∏è';
            } else {
                themeIcon.textContent = 'üåô';
            }
        }

        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadTheme();

            // Add hover effect to digest cards
            const cards = document.querySelectorAll('.digest-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        });

        // Update current date
        function updateCurrentDate() {
            const dateElement = document.querySelector('.current-date');
            if (dateElement) {
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const today = new Date();
                dateElement.textContent = today.toLocaleDateString('ru-RU', options);
            }
        }

        updateCurrentDate();
    </script>
</body>
</html>
